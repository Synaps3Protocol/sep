# SEP-001: Standard for Multimedia Metadata in Decentralized Networks

## Status
>
> Draft

## Category
>
> Standards

## Content

### Introduction

The purpose of this document is to propose a standard for transmitting and managing multimedia resources over decentralized networks. This standard aims to achieve interoperability, security and federation of such resources.

### Scope

The proposed standard uses JSON Web Tokens (JWT) as the container structure for the metadata and extends them with additional claims to represent the structural, descriptive, and technical metadata of the resources.

### Requirements and Expectations

This standard is governed by the principles established in RFC2119, which means that it uses the following keywords to indicate the level of requirement:

1. **MUST**: indicates an absolute requirement.
2. **SHOULD**: indicates a strong recommendation, but not mandatory.
3. **MAY**: indicates an option that may be considered, but is not mandatory.

### Structure of JSON Web Token

The JWT used as the container structure for the metadata MUST follow the basic structure defined in the RFC7519 specification.

Based on the context of the implementation, extending the standard for creating the `header` of the JSON Web Token (JWT) by including the `typ` claim MUST be used to establish the `format` of the multimedia resource related to the context of the implementation, based on [IANA MediaTypes](https://www.iana.org/assignments/media-types/media-types.xhtml).

```json
{
    "typ": "image/jpeg",
    "alg": "HS256"
}
```

### Additional Claims

The proposed standard introduces additional "claims" that represent the structural, descriptive, and technical metadata of multimedia resources. These claims serve as a starting point for a set of useful and interoperable claims. To maintain a compact representation, all names are kept short.

1. **"s" structural metadata**

    Structural metadata MUST represent information that describes the internal structure of a multimedia resource. The following fields MUST be included in the **"s"** claim and interoperates according to the way the resources are stored:

    ```json
    {
      "s": {
        "cid": "string",
        "path": "string"
      }
    }
    ```

    * "cid": It MUST be a string representing the Content Identifier (CID) of the multimedia resource or resource directory.
    * "path": This field MAY be used to describe how to get to the resource if the CID points to a directory.

    The "s" claim MUST be included in the payload of the JWT metadata for each multimedia resource being transmitted over the decentralized network.

2. **"d" descriptive metadata**

    Descriptive metadata MUST represent information that describes the content of a multimedia resource. The following fields MUST be included in the **"d"** claim, and custom fields MAY be added to include any other relevant information related to the resource description:

    ```json
    {
      "d": {
        "title": "string",
        "desc": "string"
      }
    }
    ```

    * "title": It MUST be a string expressing the title of the multimedia resource.
    * "desc": It MUST be a string expressing the description of the multimedia resource.

    The "d" claim MUST be included in the payload of the JWT metadata for each multimedia resource being transmitted over the decentralized network.

3. **"t" technical metadata**

    Technical metadata MUST represent information that describes the technical characteristics of a multimedia resource. The following fields MAY be included in the **"t"** claim, and custom fields MAY be added to include any other relevant information related to the technical characteristics:

    ```json
    {
      "t": {
        "size": "integer",
        "width": "integer",
        "height": "integer",
        "codec": "string",
        "length": "integer",
        "fps": "string",
      }
    }
    ```

    * "size": The size of the resource. It MUST be expressed in bytes.
    * "width": The horizontal resolution of the resource. It MUST be expressed in pixels.
    * "height": The vertical resolution of the resource. It MUST be expressed in pixels.
    * "codec": The codec used to encode audio/video. For example, 'h264'.
    * "length": The duration of the audio/video. It MUST be expressed in milliseconds.
    * "fps": The number of frames per second in the video. It MUST be expressed in frames per second (fps). For example, '60fps'.

    The "t" claim MAY be included in the payload of the JWT metadata for each multimedia resource being transmitted over the decentralized network.

### Examples

**Structural:**

```json
{
  "s": {
    "cid": "QmcLSCQgyttm6E3q1mZ9C9Xj5ue5iLb5yqca3z5LyavJgK",
    "path": "/videos/cat_video.mp4"
  }
}
```

**Descriptive:**

```json
{
  "d": {
    "title": "A day in the life of a dog",
    "desc": "This video shows the daily routine of a happy dog",
    "author": "John Smith",
    "location": "Central Park",
    "tags": ["dog", "pets", "animals"],
    "language": "English"
  }
}
```

 **Technical:**

```json
{
  "t": {
    "size": 256846,
    "width": 1920,
    "height": 1080,
    "codec": "h.264",
    "length": 124350,
    "fps": "30fps",
    "resolution": "Full HD",
    "aspect_ratio": "16:9"
  }
}
```

### Conclusion

This standard defines a mechanism for encoding and transmitting metadata related to multimedia resources over decentralized networks. The use of JSON Web Tokens as the container structure for metadata enables interoperability and federation of such resources. The proposed standard defines the necessary additional claims to represent the structural, descriptive, and technical metadata of multimedia resources. The implementation of this standard MUST follow the specifications and expectations defined in this document.

### References

* [RFC2119](https://www.rfc-editor.org/rfc/rfc2119): Key words for use in RFCs to Indicate Requirement Levels
* [RFC7519](https://www.rfc-editor.org/rfc/rfc7519#section-4.1): JSON Web Token (JWT)
