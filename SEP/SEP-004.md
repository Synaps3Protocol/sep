# SEP-004: License Metadata Standard

**Status:** Draft **|** **Category:** Standards

**Discussions-to:** [EP-004: License Metadata Standard for On-Chain Attestations](https://github.com/orgs/Synaps3Protocol/discussions/7)

## 1. Abstract

This document defines a standardized schema for license metadata embedded in on-chain attestations within the Synapse protocol. The goal is to enable interoperable, semantically-rich licensing agreements that complement the access policies enforced by the protocol, allowing creators to optionally attach legally meaningful usage conditions.

The schema is designed to be:

- **Modular** (optional per policy)
- **Verifiable** (anchored to attestations)
- **Compatible** with legal and licensing models used in Web2 (Creative Commons, SPDX, ECL)


## 2. Motivation

Current attestations in Synapse encode the technical validity of access, but lack a standardized way to represent licensing intentions, restrictions, and legal scope of use.

This proposal enables:

- Declarative and transparent licensing
- Optional legal expressiveness by creators
- Interoperability across platforms and legal frameworks

Use cases include:

- Commercial broadcast rights with regional limitations
- Educational usage for institutional licenses
- Creative Commons-style personal use


## 3. Specification

### 3.1 Usage Context

The `LicenseMetadata` schema is expected to be:

- Declared optionally by the content creator
- Constructed and embedded by a `LicenseTermsHook` at the time of attestation issuance
- Stored inside the `data` field of the attestation
- Compatible with JSON and abi.encode-serializable for on-chain payloads

---

### 3.2 LicenseMetadata Schema (JSON)

```json
{
  "$schema": "https://{LINK}/license-metadata.schema.json",
  "title": "Synapse License Metadata",
  "type": "object",
  "properties": {
    "licenseType": {
      "type": "string",
      "description": "General license category. Example: 'broadcast', 'retail', 'educational'"
    },
    "purpose": {
      "type": "string",
      "description": "Intended use. Example: 'commercial', 'non-commercial', 'personal', 'archival'"
    },
    "territory": {
      "type": "string",
      "description": "Geographic scope. Example: 'global', 'LATAM', 'US-only'"
    },
    "revocable": {
      "type": "boolean",
      "description": "Indicates whether the license can be revoked by the issuer"
    },
    "exclusivity": {
      "type": "string",
      "enum": ["exclusive", "non-exclusive"],
      "description": "Level of exclusivity granted to the licensee"
    },
    "schemaVersion": {
      "type": "string",
      "description": "Version of the license schema used. Example: 'Synapse-License-v0.1'"
    },
    "termsURI": {
      "type": "string",
      "format": "uri",
      "description": "Canonical URI to the full legal text (IPFS, Arweave, HTTPS)"
    },
    "contentCID": {
      "type": "string",
      "description": "IPFS CID or hash of the content covered by the license"
    }
  },
  "required": [],
  "additionalProperties": false
}
```

### 3.3 Solidity Struct (on-chain form)

```solidity
struct LicenseMetadata {
    string licenseType;
    string purpose;
    string territory;
    bool revocable;
    string exclusivity;
    string schemaVersion;
    string termsURI;
    string contentCID;
}
```

## 4. Compatibility with Existing Standards

This schema draws inspiration from the following well-established licensing frameworks and formats, and aims to ensure compatibility for interpretability, integration, and extensibility:

| Standard                                      | Mapping                                    | Description                                                                                                                         |
| --------------------------------------------- | ------------------------------------------ | ----------------------------------------------------------------------------------------------------------------------------------- |
| **Creative Commons (CC)**                     | `licenseType`, `purpose`, `territory`      | Common in digital media and educational content; supports public access and usage combinations like BY-NC-SA                        |
| **SPDX (Software Package Data Exchange)**     | `schemaVersion`, `licenseType`, `termsURI` | Standard used in open-source and software projects to declare license types like MIT, Apache-2.0                                    |
| **ECL (European Content License)**            | `revocable`, `exclusivity`, `territory`    | Framework specific to audiovisual and cultural licensing in Europe, supports exclusivity and regional limits                        |
| **EIP-2981**                                  | `contentCID`                               | Ethereum standard for royalties and metadata associated with NFTs; used here for media reference                                    |
| **EAS (Ethereum Attestation Service)**        | Compatible via `data` payload              | Underlying protocol pattern used for attestations in Synapse                                                                        |
| **ODRL (Open Digital Rights Language - W3C)** | Conceptual alignment                       | Rich semantic vocabulary for usage permissions, prohibitions and obligations â€” could be referenced in `termsURI`                    |
| **MPEG-21 REL / WIPO REL**                    | Possible future integration                | Rights expression standards for digital media distribution (endorsed by ISO/WIPO); applicable to `termsURI` hashing and declaration |

These standards form the basis for future interoperability, especially when dealing with content syndication, legal compliance, and standardized validation across jurisdictions or media ecosystems.


## 5. Security & Validity Considerations

Attestations in Synapse serve as the primary mechanism for granting access and control over content, and the integrity of licensing metadata is paramount. Any legal interpretation of license terms depends on the authenticity and stability of both the attestation and the external legal document referenced.

- The termsURI must be hash-verifiable if it represents binding legal documents. For example, when a legal license is hosted off-chain (e.g., as a PDF on IPFS), its content hash (e.g., SHA-256) should be included in a separate field or embedded within the attestation to guarantee that the document has not been altered.

- Use of decentralized storage such as IPFS or Arweave is recommended to ensure content permanence and verifiability across validators.

- License terms should be interpreted by off-chain systems or governance processes. On-chain logic should not attempt to enforce or interpret legal nuance, as doing so introduces unnecessary complexity and limitations.

- A termsHash may be used to formally assert the immutability of the document referenced by termsURI. Validators or consumers can then compare this hash to the retrieved document to confirm authenticity.

## 7. Example Attestation Embedding

```solidity
LicenseMetadata memory license = LicenseMetadata({
  licenseType: "broadcast",
  purpose: "commercial",
  territory: "LATAM",
  revocable: false,
  exclusivity: "non-exclusive",
  schemaVersion: "Synapse-License-v0.1",
  termsURI: "ipfs://bafy.../license.pdf",
  contentCID: "bafybeibz..."
});

bytes memory payload = abi.encode(license);
attestationProvider.attest(..., payload);
```


## 8. Conclusion

This SEP introduces a clear, modular, and extensible metadata standard for representing licenses in Synapse attestations. It empowers creators to express usage conditions, supports automation of licensing validation, and enables future integration with legal, regulatory, or commercial frameworks.

By anchoring license metadata to attestations, and optionally referencing off-chain legal documents, the standard bridges the legal and technical domains.

For maximum legal enforceability, it is recommended that documents referenced in termsURI are versioned, hash-anchored, and optionally signed digitally (e.g., via PGP, notarization, or platforms like DocuSign).


## 9. License Interpretation Rules

By default, attestations issued by Synapse policies are technical proof of access only, and **do not constitute a license** in a legal sense unless accompanied by valid and verifiable `LicenseMetadata`. Systems interpreting these attestations MUST treat attestations without license metadata as having **"no-license" status**, restricting their validity to internal protocol usage only.

This approach maintains backwards compatibility and ensures legal neutrality unless the creator opts-in to more expressive licensing semantics.

---

